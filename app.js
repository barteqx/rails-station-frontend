((function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p=function(a,b){return function(){return a.apply(b,arguments)}},q={}.hasOwnProperty;h=function(){function a(a){this.mainGUI=a,this.createElementFor=p(this.createElementFor,this),$("#playlist-options").buttonset()}return a.prototype.createElementFor=function(a,b){var c,d,e,f;return e=$(a).html(),f=Handlebars.compile(e),d=f(b),c=$(d)},a}(),b=function(){function a(a){this.mainGUI=a,this.createElementFor=p(this.createElementFor,this)}return a.prototype.createElementFor=function(a,b){var c,d,e,f;return e=$(a).html(),f=Handlebars.compile(e),d=f(b),c=$(d)},a}(),l=function(){function a(a){this.mainGUI=a,this.createElementFor=p(this.createElementFor,this)}return a.prototype.createElementFor=function(a,b){var c,d,e,f;return e=$(a).html(),f=Handlebars.compile(e),d=f(b),c=$(d)},a}(),_.defaults(this,{Before:function(a,b,c){return YouAreDaBomb(a,b).before(c)},BeforeAnyCallback:function(a,b,c){return YouAreDaBomb(a,b).beforeAnyCallback(c)},After:function(a,b,c){return YouAreDaBomb(a,b).after(c)},Around:function(a,b,c){return YouAreDaBomb(a,b).around(c)},AfterAll:function(a,b,c){var d,e,f,g;g=[];for(e=0,f=b.length;e<f;e++)d=b[e],g.push(After(a,d,c));return g},LogAll:function(a){var b,c,d;d=[];for(b in a){if(!q.call(a,b))continue;c=a[b],_.isFunction(c)?d.push(function(b){return Before(a,b,function(){return console.log("calling: "+b)})}(b)):d.push(void 0)}return d},AutoBind:function(a,b){var c,d,e;e=[];for(c in a)d=a[c],_.isFunction(d)?e.push(function(c){if(c.endsWith("Clicked")&&b[c.remove("Clicked")])return After(a,c,function(a){return b[c.remove("Clicked")](a)})}(c)):e.push(void 0);return e}}),e=function(){function a(a,b,c){var d=this;this.useCase=a,this.gui=b,this.server_side=c,After(this.gui,"confirmStreamButtonClicked",function(a){return d.useCase.streamProvided(a)}),After(this.useCase,"start",function(){return d.gui.refreshPlayer(d.server_side.getInitialStream())}),LogAll(this.useCase),LogAll(this.gui)}return a}(),d=function(){function a(){this.getPosts=p(this.getPosts,this),this.getInitialStream=p(this.getInitialStream,this)}return a.prototype.getInitialStream=function(){return new m(0,"http://188.40.32.140:8172/stream","Kontestacja")},a.prototype.getPosts=function(a,b){a==null&&(a=0),b==null&&(b=4)},a}(),c=function(){function a(a,b,c,d){this.id=a,this.title=b,this.content=c,this.author=d}return a}(),i=function(){function a(a,b){this.id=a,this.episode=b}return a}(),j=function(){function a(a,b,c,d,e){this.id=a,this.title=b,this.description=c,this.author=d,this.episodeCount=e}return a}(),o=function(){function a(a,b){this.id=a,this.login=b}return a}(),k=function(){function a(a,b,c,d,e){this.id=a,this.number=b,this.title=c,this.podcast=d,this.source=e,this.type="file"}return a}(),m=function(){function a(a,b,c){this.id=a,this.source=b,this.title=c,this.type="stream"}return a}(),g=function(){function a(a){this.namespace=a,this.flush=p(this.flush,this),this.remove=p(this.remove,this),this.get=p(this.get,this),this.set=p(this.set,this)}return a.prototype.set=function(a,b){return console.log(b),$.jStorage.set(""+this.namespace+"/"+a,b)},a.prototype.get=function(a){return $.jStorage.get(""+this.namespace+"/"+a)},a.prototype.remove=function(a){return $.jStorage.deleteKey(""+this.namespace+"/"+a)},a.prototype.flush=function(){var a,b,c,d,e;d=$.jStorage.index(),e=[];for(b=0,c=d.length;b<c;b++)a=d[b],a.match("^"+this.namespace)?e.push($.jStorage.deleteKey(a)):e.push(void 0);return e},a}(),n=function(){function a(){this.streamProvided=p(this.streamProvided,this),this.start=p(this.start,this)}return a.prototype.start=function(){},a.prototype.streamProvided=function(a){},a}(),f=function(){function a(){this.confirmStreamButtonClicked=p(this.confirmStreamButtonClicked,this),this.refreshPlayer=p(this.refreshPlayer,this),this.createElementFor=p(this.createElementFor,this);var a=this;this.playlistGUI=new h(this),this.blogGUI=new b(this),this.podcastsGUI=new l(this),this.confirmStreamButton=$("#submit-stream-button"),this.confirmStreamButton.click(function(){return a.confirmStreamButtonClicked(new m(1,$("#stream").val(),"Test"))}),$("#podcasts-playlist").sortable(),$("#podcasts-playlist").selectable(),this.player=$("#jp_container_1")}return a.prototype.createElementFor=function(a,b){var c,d,e,f;return e=$(a).html(),f=Handlebars.compile(e),d=f(b),c=$(d)},a.prototype.refreshPlayer=function(a){var b;return a.type==="stream"?(this.player.removeClass("jp-audio"),this.player.addClass("jp-audio-stream")):(this.player.removeClass("jp-audio-stream"),this.player.addClass("jp-audio")),b=a.source,console.log(b),$("#jquery_jplayer_1").jPlayer({ready:function(){return $(this).jPlayer("setMedia",{mp3:b})},stop:function(){return $(this).jPlayer("clearMedia")},swfPath:"/js",supplied:"mp3"}),$("#track_title").text(a.title)},a.prototype.confirmStreamButtonClicked=function(a){return $("#jquery_jplayer_1").jPlayer("clearMedia"),this.refreshPlayer(a)},a}(),a=function(){function a(){var a,b,c,g;g=new n,b=new f,c=new d,a=new e(g,b,c),g.start(),window.useCase=g}return a}(),$(document).ready(function(){return new a,$("a.jp-play").click(function(){return $("a.jp-pause").css("display","block")})})})).call(this)