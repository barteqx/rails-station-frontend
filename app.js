((function(){var a,b,c,d,e,f={}.hasOwnProperty,g=function(a,b){return function(){return a.apply(b,arguments)}};_.defaults(this,{Before:function(a,b,c){return YouAreDaBomb(a,b).before(c)},BeforeAnyCallback:function(a,b,c){return YouAreDaBomb(a,b).beforeAnyCallback(c)},After:function(a,b,c){return YouAreDaBomb(a,b).after(c)},Around:function(a,b,c){return YouAreDaBomb(a,b).around(c)},AfterAll:function(a,b,c){var d,e,f,g;g=[];for(e=0,f=b.length;e<f;e++)d=b[e],g.push(After(a,d,c));return g},LogAll:function(a){var b,c,d;d=[];for(b in a){if(!f.call(a,b))continue;c=a[b],_.isFunction(c)?d.push(function(b){return Before(a,b,function(){return console.log("calling: "+b)})}(b)):d.push(void 0)}return d},AutoBind:function(a,b){var c,d,e;e=[];for(c in a)d=a[c],_.isFunction(d)?e.push(function(c){if(c.endsWith("Clicked")&&b[c.remove("Clicked")])return After(a,c,function(a){return b[c.remove("Clicked")](a)})}(c)):e.push(void 0);return e}}),d=function(){function a(a){this.namespace=a,this.flush=g(this.flush,this),this.remove=g(this.remove,this),this.get=g(this.get,this),this.set=g(this.set,this)}return a.prototype.set=function(a,b){return console.log(b),$.jStorage.set(""+this.namespace+"/"+a,b)},a.prototype.get=function(a){return $.jStorage.get(""+this.namespace+"/"+a)},a.prototype.remove=function(a){return $.jStorage.deleteKey(""+this.namespace+"/"+a)},a.prototype.flush=function(){var a,b,c,d,e;d=$.jStorage.index(),e=[];for(b=0,c=d.length;b<c;b++)a=d[b],a.match("^"+this.namespace)?e.push($.jStorage.deleteKey(a)):e.push(void 0);return e},a}(),e=function(){function a(){this.restart=g(this.restart,this),this.showStream=g(this.showStream,this),this.streamProvided=g(this.streamProvided,this),this.askForStream=g(this.askForStream,this),this.start=g(this.start,this)}return a.prototype.start=function(){return this.askForStream()},a.prototype.askForStream=function(){},a.prototype.streamProvided=function(a){return this.showStream(a)},a.prototype.showStream=function(a){},a.prototype.restart=function(){return this.askForStream()},a}(),c=function(){function a(){this.hideStream=g(this.hideStream,this),this.restartClicked=g(this.restartClicked,this),this.showStream=g(this.showStream,this),this.hideAskForStream=g(this.hideAskForStream,this),this.confirmStreamButtonClicked=g(this.confirmStreamButtonClicked,this),this.showAskForStream=g(this.showAskForStream,this),this.createElementFor=g(this.createElementFor,this)}return a.prototype.createElementFor=function(a,b){var c,d,e,f;return e=$(a).html(),f=Handlebars.compile(e),d=f(b),c=$(d)},a.prototype.showAskForStream=function(){var a,b,c=this;return b=this.createElementFor("#ask-for-stream-template"),$(".main").append(b),a=$("#submit-stream-button"),a.click(function(){return c.confirmStreamButtonClicked($("#stream").val())}),$("#stream").focus()},a.prototype.confirmStreamButtonClicked=function(a){},a.prototype.hideAskForStream=function(){return $(".ask-for-stream").remove()},a.prototype.showStream=function(a){var b,c=this;return b=this.createElementFor("#stream-playing-template",{stream:a}),$("#stream-player").jPlayer({ready:function(a){return $(this).jPlayer("setMedia",{mp3:"http://jplayer.org/audio/mp3/TSP-01-Cro_magnon_man.mp3"})},preload:"auto",swfPath:"/",solution:"html, flash",supplied:"mp3"}),$(".main").append(b),$("#restart-link").click(function(){return c.restartClicked()})},a.prototype.restartClicked=function(){},a.prototype.hideStream=function(){return $(".greet-message").remove()},a}(),b=function(){function a(a,b){var c=this;this.useCase=a,this.gui=b,After(this.useCase,"askForStream",function(){return c.gui.showAskForStream()}),After(this.useCase,"streamProvided",function(){return c.gui.hideAskForStream()}),After(this.useCase,"showStream",function(a){return c.gui.showStream(a)}),After(this.useCase,"restart",function(){return c.gui.hideStream()}),After(this.gui,"restartClicked",function(){return c.useCase.restart()}),After(this.gui,"confirmStreamButtonClicked",function(a){return c.useCase.streamProvided(a)}),LogAll(this.useCase),LogAll(this.gui)}return a}(),a=function(){function a(){var a,d,f;f=new e,d=new c,a=new b(f,d),f.start(),window.useCase=f}return a}(),$(document).ready(function(){return new a})})).call(this)